{"ast":null,"code":"import _slicedToArray from\"C:/asdf/AddressBook/Frontend/addressbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Form,Button,Alert,Table}from'react-bootstrap';import axios from'axios';import Header from'./Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),update=_React$useState4[0],setUpdate=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),error=_React$useState6[0],setError=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),persons=_React$useState8[0],setPersons=_React$useState8[1];var handleChangeName=function handleChangeName(e){setName(e.target.value);console.log(name);};var searchTable=function searchTable(){if(persons.length===0&&update===true){return/*#__PURE__*/_jsx(Alert,{variant:\"warning\",children:\"No matching entries found\"});}else if(update===false){return/*#__PURE__*/_jsx(Alert,{variant:\"danger\",show:error,children:\"Please enter a name to search for\"});}else{return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white'},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"})]})}),persons.map(function(person1){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:person1.name}),/*#__PURE__*/_jsx(\"td\",{children:person1.address})]});})]})]});}};var handleSubmit=function handleSubmit(e){e.preventDefault();if(name===\"\"){setError(true);}else{setError(false);setUpdate(true);axios.get(\"http://localhost:9000/person/\".concat(name)).then(function(res){setPersons(res.data);});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(Form.Label,{children:\"Search for an entry\"})}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicAddress\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Name\",onChange:handleChangeName,value:name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})]}),searchTable()]});};export default Search;","map":{"version":3,"sources":["C:/asdf/AddressBook/frontend/addressbook/src/components/Search.js"],"names":["React","Form","Button","Alert","Table","axios","Header","Search","useState","name","setName","update","setUpdate","error","setError","persons","setPersons","handleChangeName","e","target","value","console","log","searchTable","length","backgroundColor","map","person1","address","handleSubmit","preventDefault","get","then","res","data"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Form, Button, Alert, Table } from 'react-bootstrap'\r\nimport axios from 'axios'\r\nimport Header from './Header'\r\n\r\nconst Search = () => {\r\n    const [name, setName] = React.useState(\"\");\r\n    const [update, setUpdate] = React.useState(false);\r\n    const [error, setError] = React.useState('');\r\n    const [persons, setPersons] = React.useState([]);\r\n    const handleChangeName  = e => {\r\n        setName(e.target.value);\r\n        console.log(name);\r\n    }\r\n\r\n    const searchTable = () => {\r\n        if(persons.length === 0 && update === true) {\r\n            return <Alert variant='warning'>No matching entries found</Alert>;\r\n        } else if(update === false) {\r\n            return <Alert variant='danger' show={error}>Please enter a name to search for</Alert>\r\n        } else {\r\n            return (<div style={{backgroundColor: 'white'}}><br /><br /><Table striped bordered>\r\n        <thead><tr><th>Name</th><th>Address</th></tr></thead>\r\n        { persons.map(person1 => <tr><td>{person1.name}</td><td>{person1.address}</td></tr>)}\r\n            </Table></div>)\r\n    }}\r\n  \r\n    const handleSubmit = (e) =>{\r\n        e.preventDefault();\r\n        if(name === \"\") {\r\n            setError(true)\r\n        } else {\r\n            setError(false)\r\n            setUpdate(true)\r\n            axios.get(`http://localhost:9000/person/${name}`)\r\n            .then((res) => {\r\n        setPersons(res.data);\r\n      })}}\r\n    return (\r\n            <div>\r\n            <Header />\r\n            <br />\r\n            <Form onSubmit={handleSubmit}><br />\r\n            <h3><Form.Label>Search for an entry</Form.Label></h3>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicAddress\">\r\n            <Form.Control type=\"text\" placeholder=\"Name\" onChange={handleChangeName} value={name} />\r\n            <br />\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              Submit\r\n            </Button>\r\n          </Form.Group>\r\n                </Form>\r\n                {searchTable()}\r\n\r\n                </div>\r\n            )\r\n}\r\n\r\nexport default Search\r\n"]},"metadata":{},"sourceType":"module"}