{"ast":null,"code":"import _slicedToArray from\"C:/asdf/AddressBook/Frontend/addressbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Form,Button,Alert}from'react-bootstrap';import axios from'axios';import Header from'./Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateEntry=function UpdateEntry(props){var _React$useState=React.useState(props.location.state?props.location.state.name:\"\"),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(props.location.state?props.location.state.name:\"\"),_React$useState4=_slicedToArray(_React$useState3,2),newName=_React$useState4[0],setNewName=_React$useState4[1];var _React$useState5=React.useState(props.location.state?props.location.state.address:\"\"),_React$useState6=_slicedToArray(_React$useState5,2),address=_React$useState6[0],setAddress=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),update=_React$useState8[0],setUpdate=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),error=_React$useState10[0],setError=_React$useState10[1];var handleChangeName=function handleChangeName(e){setNewName(e.target.value);};var handleChangeAddress=function handleChangeAddress(e){setAddress(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();setUpdate(\"\");if(newName===\"\"||address===\"\"){setError(\"Please enter a name and address\");}else{setError(\"\");var person={\"name\":newName,\"address\":address};axios.post(\"http://localhost:9000/update/\".concat(name),person).then(function(res){setUpdate(\"Update successful\");}).catch(function(e){return setUpdate(\"Duplicate names are not allowed\");});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form,{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicAddress\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Label,{children:[\"Change \",name,\"'s' name?\"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",onChange:handleChangeName,value:newName}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Label,{children:[\"Change \",name,\"'s address?\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Address\",onChange:handleChangeAddress,value:address}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})}),/*#__PURE__*/_jsx(Alert,{variant:\"danger\",show:error===\"\"?false:true,children:error}),/*#__PURE__*/_jsx(Alert,{variant:\"success\",show:update===\"\"?false:true,children:update}),/*#__PURE__*/_jsx(\"label\",{})]});};export default UpdateEntry;","map":{"version":3,"sources":["C:/asdf/AddressBook/frontend/addressbook/src/components/UpdateEntry.js"],"names":["React","Form","Button","Alert","axios","Header","UpdateEntry","props","useState","location","state","name","setName","newName","setNewName","address","setAddress","update","setUpdate","error","setError","handleChangeName","e","target","value","handleChangeAddress","handleSubmit","preventDefault","person","post","then","res","catch"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Form, Button, Alert } from 'react-bootstrap'\r\nimport axios from 'axios'\r\nimport Header from './Header'\r\n\r\nconst UpdateEntry = ( props ) =>  {\r\n  const [name, setName] = React.useState(props.location.state ? props.location.state.name : \"\");\r\n  const [newName, setNewName] = React.useState(props.location.state ? props.location.state.name : \"\");\r\n  const [address, setAddress] = React.useState(props.location.state ? props.location.state.address : \"\");\r\n  const [update, setUpdate] = React.useState('');\r\n  const [error, setError] = React.useState('');\r\n\r\n  const handleChangeName  = e => {\r\n      setNewName(e.target.value);\r\n  }\r\n\r\n  const handleChangeAddress  = e => {\r\n      setAddress(e.target.value);\r\n  }\r\n\r\n  const handleSubmit = (e) =>{\r\n    e.preventDefault();\r\n    setUpdate(\"\")\r\n    if(newName === \"\" || address === \"\") {\r\n      setError(\"Please enter a name and address\")\r\n  } else {\r\n      setError(\"\")\r\n    const person = {\r\n      \"name\": newName,\r\n      \"address\": address\r\n    };\r\n    axios.post(`http://localhost:9000/update/${name}`, person)\r\n    .then((res) => {\r\n      setUpdate(\"Update successful\")})\r\n    .catch(e=>setUpdate(\"Duplicate names are not allowed\"))}}\r\n    return (\r\n    <div>\r\n    <Header />\r\n    <br /><br />\r\n    <Form onSubmit={handleSubmit}>\r\n    <Form.Group className=\"mb-3\" controlId=\"formBasicAddress\"><br />\r\n    <Form.Label>Change {name}'s' name?</Form.Label>\r\n    <Form.Control type=\"text\" onChange={handleChangeName} value={newName} /><br />\r\n    <Form.Label>Change {name}'s address?</Form.Label>\r\n    <br />\r\n    <Form.Control type=\"text\" placeholder=\"Address\" onChange={handleChangeAddress} value={address} />\r\n    <br /><br />\r\n    <Button variant=\"primary\" type=\"submit\">Submit</Button>\r\n  </Form.Group>\r\n        </Form>\r\n        <Alert variant='danger' show={error === \"\" ? false : true}>{error}</Alert>\r\n        <Alert variant='success' show={update === \"\" ? false : true}>{update}</Alert>\r\n        <label></label>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UpdateEntry\r\n"]},"metadata":{},"sourceType":"module"}