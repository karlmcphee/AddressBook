{"ast":null,"code":"import _classCallCheck from\"C:/asdf/AddressBook/Frontend/addressbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/asdf/AddressBook/Frontend/addressbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/asdf/AddressBook/Frontend/addressbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/asdf/AddressBook/Frontend/addressbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Header from'./Header';import{Table,Button}from'react-bootstrap';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PersonList=/*#__PURE__*/function(_React$Component){_inherits(PersonList,_React$Component);var _super=_createSuper(PersonList);function PersonList(){var _this;_classCallCheck(this,PersonList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={persons:[],test:\"hi\"};_this.deletes=function(id,e){e.preventDefault();axios.delete(\"http://localhost:9000/delete/\".concat(id));_this.setState({persons:_this.state.persons.filter(function(person){return person.name!==id;})});};_this.clears=function(e){e.preventDefault();axios.delete(\"http://localhost:9000/clear\");_this.setState({persons:[]});};_this.update=function(id,e){e.preventDefault();_this.context.router.push({//browserHistory.push should also work here\npathname:'/UpdateEntry',state:{\"name\":id}});};_this.setTable=function(){if(_this.state.persons.length===0){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{href:\"/AddEntry\",variant:\"primary\",children:\"Add Entry\"})});}else{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return _this.clears(e);},children:\"Clear AddressBook\"})});}};return _this;}_createClass(PersonList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:9000/persons\").then(function(res){var persons=res.data;_this2.setState({persons:persons});});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'white'},children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{})]})}),this.state.persons.map(function(person){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:person.name}),/*#__PURE__*/_jsx(\"td\",{children:person.address}),/*#__PURE__*/_jsx(\"td\",{style:{marginBottom:20},children:/*#__PURE__*/_jsx(Link,{to:{pathname:'/UpdateEntry',state:{\"name\":person.name,\"address\":person.address}},children:\"Update\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(e){return _this3.deletes(person.name,e);},variant:\"link\",children:/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:\"Delete\"})})})]});})]})}),this.setTable()]});}}]);return PersonList;}(React.Component);export{PersonList as default};","map":{"version":3,"sources":["C:/asdf/AddressBook/frontend/addressbook/src/components/ViewBook.js"],"names":["React","axios","Header","Table","Button","Link","PersonList","state","persons","test","deletes","id","e","preventDefault","delete","setState","filter","person","name","clears","update","context","router","push","pathname","setTable","length","get","then","res","data","backgroundColor","map","address","marginBottom","color","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\nimport Header from './Header'\r\nimport { Table, Button } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class PersonList extends React.Component {\r\n    state = {\r\n      persons: [],\r\n      test: \"hi\"\r\n    }\r\n\r\n    deletes = (id, e) => {\r\n      e.preventDefault();\r\n      axios.delete(`http://localhost:9000/delete/${id}`)\r\n      this.setState({persons: this.state.persons.filter(function(person) { \r\n        return person.name !== id\r\n       })});\r\n    }\r\n\r\n    clears = (e) => {\r\n      e.preventDefault();\r\n      axios.delete(`http://localhost:9000/clear`)\r\n      this.setState({persons: []})\r\n    }\r\n\r\n    update = (id, e) => {\r\n      e.preventDefault();\r\n      this.context.router.push({ //browserHistory.push should also work here\r\n        pathname: '/UpdateEntry',\r\n        state: {\"name\": id}\r\n      }); \r\n    }\r\n\r\n    setTable = () => {\r\n      if(this.state.persons.length === 0) {\r\n        return(\r\n          <div><Button href=\"/AddEntry\" variant=\"primary\" >\r\n            Add Entry</Button></div>\r\n        )\r\n      } else {\r\n        return <div><Button onClick={(e)=>this.clears(e)}>Clear AddressBook</Button></div>;\r\n      }\r\n    }\r\n  \r\n    componentDidMount() {\r\n      axios.get(`http://localhost:9000/persons`)\r\n        .then(res => {\r\n          const persons = res.data;\r\n          this.setState({ persons });\r\n        })\r\n    }\r\n  \r\n    render() {\r\n      return (\r\n        <div><Header/><br />\r\n        <div  style={{backgroundColor: 'white'}}><Table striped bordered>\r\n          <thead>\r\n            <tr>\r\n            <th>Name</th>\r\n            <th>Address</th>\r\n            <th></th>\r\n            <th></th>\r\n            </tr>\r\n            </thead>\r\n                { this.state.persons.map(person => <tr><td>{person.name}</td><td>{person.address}</td>\r\n                <td style={{marginBottom: 20}}><Link to={{pathname: '/UpdateEntry', state: { \"name\": person.name, \"address\": person.address}}}>Update</Link>\r\n              </td>\r\n                <td><Button onClick={(e) => this.deletes(person.name, e)} variant=\"link\"><div style={{color: 'red'}}>Delete</div></Button></td>\r\n                 </tr>)}\r\n        </Table></div>\r\n        {this.setTable()} \r\n        </div>\r\n      )\r\n    }\r\n  }"]},"metadata":{},"sourceType":"module"}